{% load static %}
{% load compress %}
{% load meta %}

<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        {% include 'meta/meta.html' %}
        <title>Employer home page - Career connect</title>
        {% compress css %}
        <link rel="stylesheet" href="{% static 'css/flowbite.min.css' %}">
        <link rel="stylesheet" href="{% static 'flags/sprite.css' %}"/>
        {% endcompress %}
        {% compress js %} 
        <script src = "{% static 'js/flowbite.min.js' %}" type = "text/javascript"></script>
        {% endcompress %}
    </head>
    <body>
        {% include 'employer-portal/navbar.html' %}

        <div class="p-4">
            <div class="p-4 rounded-lg mt-14">
                <nav class="flex" aria-label="Breadcrumb">
                    <ol class="inline-flex items-center space-x-1 md:space-x-3 rtl:space-x-reverse">
                        <li class="inline-flex items-center">
                            <a href="{% url 'employer_portal:manage_jobs' 'all-jobs' %}" class="inline-flex items-center text-sm font-medium text-gray-700 hover:text-blue-600 hover:underline dark:text-gray-400 dark:hover:text-white">
                                Manage Jobs
                            </a>
                        </li>
                        <li>
                            <div class="flex items-center">
                                <svg class="w-3 h-3 text-gray-400 mx-1 rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 6 10">
                                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 9 4-4-4-4"/>
                                </svg>
                                <a href="{% url 'employer_portal:job_applications' job.slug 'all-applicants' %}" class="ms-1 text-sm font-medium text-gray-700 hover:text-blue-600 hover:underline md:ms-2 dark:text-gray-400 dark:hover:text-white">
                                    {{ job.job_title }}
                                </a>
                            </div>
                        </li>
                        <li aria-current="page">
                            <div class="flex items-center">
                                <svg class="w-3 h-3 text-gray-400 mx-1 rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 6 10">
                                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 9 4-4-4-4"/>
                                </svg>
                                <span class="ms-1 text-sm font-medium text-gray-400 md:ms-2 dark:text-gray-400">{{ candidate.user.username }}</span>
                            </div>
                        </li>
                    </ol>
                </nav>

                <!-- Container -->
                <div class="max-w-6xl mx-auto bg-white mt-4">
                    <!-- Header -->
                    <div class="flex justify-between items-center">
                        <h2 class="mb-4 text-3xl font-bold leading-none tracking-tight text-gray-900 md:text-3xl dark:text-white">{{ job.job_title }} <span class="text-blue-700"> - {{ candidate.user.username }}</span></h2>
                        <div class="flex space-x-2">
                            <div class="inline-flex rounded-md shadow-xs" role="group">
                              <button type="button" class="inline-flex items-center px-4 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-200 rounded-s-lg hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-2 focus:ring-blue-700 focus:text-blue-700 dark:bg-gray-800 dark:border-gray-700 dark:text-white dark:hover:text-white dark:hover:bg-gray-700 dark:focus:ring-blue-500 dark:focus:text-white">
                                <svg class="w-3 h-3 me-2" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
                                  <path d="M10 0a10 10 0 1 0 10 10A10.011 10.011 0 0 0 10 0Zm0 5a3 3 0 1 1 0 6 3 3 0 0 1 0-6Zm0 13a8.949 8.949 0 0 1-4.951-1.488A3.987 3.987 0 0 1 9 13h2a3.987 3.987 0 0 1 3.951 3.512A8.949 8.949 0 0 1 10 18Z"/>
                                </svg>
                                Profile
                              </button>
                              <button type="button" class="inline-flex items-center px-4 py-2 text-sm font-medium text-gray-500 bg-white border-t border-b border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-2 focus:ring-blue-700 focus:text-blue-700 dark:bg-gray-800 dark:border-gray-700 dark:text-white dark:hover:text-white dark:hover:bg-gray-700 dark:focus:ring-blue-500 dark:focus:text-white">
                                <svg class="w-3 h-3 me-2" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20">
                                  <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12.25V1m0 11.25a2.25 2.25 0 0 0 0 4.5m0-4.5a2.25 2.25 0 0 1 0 4.5M4 19v-2.25m6-13.5V1m0 2.25a2.25 2.25 0 0 0 0 4.5m0-4.5a2.25 2.25 0 0 1 0 4.5M10 19V7.75m6 4.5V1m0 11.25a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5ZM16 19v-2"/>
                                </svg>
                                Settings
                              </button>
                              <button type="button" class="inline-flex items-center px-4 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-200 rounded-e-lg hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-2 focus:ring-blue-700 focus:text-blue-700 dark:bg-gray-800 dark:border-gray-700 dark:text-white dark:hover:text-white dark:hover:bg-gray-700 dark:focus:ring-blue-500 dark:focus:text-white">
                                <svg class="w-3 h-3 me-2" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
                                  <path d="M14.707 7.793a1 1 0 0 0-1.414 0L11 10.086V1.5a1 1 0 0 0-2 0v8.586L6.707 7.793a1 1 0 1 0-1.414 1.414l4 4a1 1 0 0 0 1.416 0l4-4a1 1 0 0 0-.002-1.414Z"/>
                                  <path d="M18 12h-2.55l-2.975 2.975a3.5 3.5 0 0 1-4.95 0L4.55 12H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2Zm-3 5a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"/>
                                </svg>
                                Downloads
                              </button>
                            </div>
                        </div>
                    </div>

                    <span class="text-gray-500 text-sm rounded-lg dark:bg-gray-900 dark:text-gray-300">
                        Applied on {{ application.applied_at }} • {{ application.applied_at|timesince }} ago
                    </span>

                    <p class="mb-5 rounded-lg bg-gray-100 p-4 text-gray-500 dark:text-gray-400 mt-5 rounded-lg">
                        This page provides a comprehensive view of the applicant's profile, including their personal details, work experience, education, skills, and resume. You can review their qualifications, download their resume, and access whether they meet the job requirements. Additionally, you have the option to take hiring actions such as scheduling an interview, shortlisting, or rejecting the applicant. Use this page to make informed recruitment decisions and streamline the hiring process efficiently.
                    </p>

                    <div class="text-sm font-medium text-center text-gray-500 border-b border-gray-200 dark:text-gray-400 dark:border-gray-700">
                        <ul class="flex flex-wrap -mb-px">
                            <li class="me-2">
                                <a href="{% url 'employer_portal:manage_applicant' job.slug candidate.slug %}" class="flex flex-row items-center justify-center inline-block p-4 border-b-2 border-transparent rounded-t-lg hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300">
                                    <svg class="w-4 h-4 font-bold me-2 text-gray-400 dark:text-blue" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                                        <path fill-rule="evenodd" d="M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12Zm9.408-5.5a1 1 0 1 0 0 2h.01a1 1 0 1 0 0-2h-.01ZM10 10a1 1 0 1 0 0 2h1v3h-1a1 1 0 1 0 0 2h4a1 1 0 1 0 0-2h-1v-4a1 1 0 0 0-1-1h-2Z" clip-rule="evenodd"/>
                                    </svg>
                                    Applicant details
                                </a>
                            </li>
                            <li class="me-2">
                                <a href="{% url 'employer_portal:schedule_interview' job.slug candidate.slug %}" class="flex flex-row items-center justify-center inline-block p-4 text-blue-600 border-b-2 border-blue-600 rounded-t-lg active dark:text-blue-500 dark:border-blue-500" aria-current="page">
                                    <svg class="w-4 h-4 me-2 text-blue-600 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                                        <path fill-rule="evenodd" d="M5 5a1 1 0 0 0 1-1 1 1 0 1 1 2 0 1 1 0 0 0 1 1h1a1 1 0 0 0 1-1 1 1 0 1 1 2 0 1 1 0 0 0 1 1h1a1 1 0 0 0 1-1 1 1 0 1 1 2 0 1 1 0 0 0 1 1 2 2 0 0 1 2 2v1a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V7a2 2 0 0 1 2-2ZM3 19v-7a1 1 0 0 1 1-1h16a1 1 0 0 1 1 1v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2Zm6.01-6a1 1 0 1 0-2 0 1 1 0 0 0 2 0Zm2 0a1 1 0 1 1 2 0 1 1 0 0 1-2 0Zm6 0a1 1 0 1 0-2 0 1 1 0 0 0 2 0Zm-10 4a1 1 0 1 1 2 0 1 1 0 0 1-2 0Zm6 0a1 1 0 1 0-2 0 1 1 0 0 0 2 0Zm2 0a1 1 0 1 1 2 0 1 1 0 0 1-2 0Z" clip-rule="evenodd"/>
                                    </svg>
                                    Interview management
                                </a>
                            </li>
                            <li class="me-2">
                                <a href="#" class="flex flex-row items-center justify-center inline-block p-4 border-b-2 border-transparent rounded-t-lg hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300">
                                    <svg class="w-4 h-4 font-bold me-2 text-gray-400 dark:text-blue" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                                        <path fill-rule="evenodd" d="M9.586 2.586A2 2 0 0 1 11 2h2a2 2 0 0 1 2 2v.089l.473.196.063-.063a2.002 2.002 0 0 1 2.828 0l1.414 1.414a2 2 0 0 1 0 2.827l-.063.064.196.473H20a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2h-.089l-.196.473.063.063a2.002 2.002 0 0 1 0 2.828l-1.414 1.414a2 2 0 0 1-2.828 0l-.063-.063-.473.196V20a2 2 0 0 1-2 2h-2a2 2 0 0 1-2-2v-.089l-.473-.196-.063.063a2.002 2.002 0 0 1-2.828 0l-1.414-1.414a2 2 0 0 1 0-2.827l.063-.064L4.089 15H4a2 2 0 0 1-2-2v-2a2 2 0 0 1 2-2h.09l.195-.473-.063-.063a2 2 0 0 1 0-2.828l1.414-1.414a2 2 0 0 1 2.827 0l.064.063L9 4.089V4a2 2 0 0 1 .586-1.414ZM8 12a4 4 0 1 1 8 0 4 4 0 0 1-8 0Z" clip-rule="evenodd"/>
                                    </svg>
                                    Hiring actions
                                </a>
                            </li>
                            <li class="me-2">
                                <a href="#" class="inline-block p-4 border-b-2 border-transparent rounded-t-lg hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300">Preferences</a>
                            </li>
                            <li class="me-2">
                                <a href="{% url 'billing' %}" class="inline-block p-4 border-b-2 border-transparent rounded-t-lg hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300">Billing & Subscriptions</a>
                            </li>
                        </ul>
                    </div>

                    <div id="popup-modal" tabindex="-1" class="hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full">
                    <div class="relative p-4 w-full max-w-md max-h-full">
                        <div class="relative bg-white rounded-lg shadow-sm dark:bg-gray-700">
                            <button type="button" class="absolute top-3 end-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white" data-modal-hide="popup-modal">
                                <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
                                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"/>
                                </svg>
                                <span class="sr-only">Close modal</span>
                            </button>
                            <div class="p-4 md:p-5 text-center">
                                <svg class="mx-auto mb-4 text-gray-400 w-12 h-12 dark:text-gray-200" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20">
                                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 11V6m0 8h.01M19 10a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"/>
                                </svg>
                                <h3 class="mb-2 text-xl font-bold text-gray-500 dark:text-gray-400">Reject Applicant.</h3>
                                <p class="mb-5 text-sm font-normal text-gray-500 dark:text-gray-400">Are you sure you want to reject <span class="font-semibold">{{ candidate.user.username }}?</span> This action cannot be undone. The applicant will be notified of your decision.</p>
                                <button data-modal-hide="popup-modal" type="button" hx-trigger="click" hx-headers='{"X-CSRFToken": "{{ csrf_token }}"}' class="text-white bg-red-600 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 dark:focus:ring-red-800 font-medium rounded-lg text-sm inline-flex items-center px-5 py-2.5 text-center">
                                    Confirm Reject
                                </button>
                                <button data-modal-hide="popup-modal" type="button" class="py-2.5 px-5 ms-3 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700">No, cancel</button>
                            </div>
                        </div>
                    </div>
                </div>

                <h5 class="mb-4 mt-6 text-xl text-gray-500 font-bold dark:text-white">1). Provide Essential Details About the Job Position.</h5>

                <div class="flex flex-col lg:flex-row min-h-screen">
                    <!-- Left Panel: Applicant Details -->
                    <div class="lg:w-1/3 bg-white p-6 border border-gray-200 shadow-sm rounded-lg mr-4 mt-4">
                        <h2 class="text-xl font-semibold mb-4">Applicant Information</h2>
                        <div class="bg-gray-50 p-4 rounded-lg mb-4">
                            <p class="text-lg font-medium">Name: <span class="font-semibold">John Doe</span></p>
                            <p class="text-lg font-medium">Job Applied: <span class="font-semibold">Software Engineer</span></p>
                            <p class="text-lg font-medium">Application Date: <span class="font-semibold">March 20, 2025</span></p>
                            <p class="text-lg font-medium">Resume: <a href="#" class="text-blue-600 underline">Download</a></p>
                        </div>

                        <h3 class="text-lg font-semibold mb-2">Hiring Progress</h3>
                        <ul class="space-y-2">
                            <li class="flex items-center space-x-2">
                                <span class="w-5 h-5 bg-green-500 text-white text-xs flex items-center justify-center rounded-full">✓</span>
                                <span>Application Received</span>
                            </li>
                            <li class="flex items-center space-x-2">
                                <span class="w-5 h-5 bg-green-500 text-white text-xs flex items-center justify-center rounded-full">✓</span>
                                <span>Application Reviewed</span>
                            </li>
                            <li class="flex items-center space-x-2">
                                <span class="w-5 h-5 bg-blue-500 text-white text-xs flex items-center justify-center rounded-full">3</span>
                                <span>Schedule Interview</span>
                            </li>
                            <li class="flex items-center space-x-2">
                                <span class="w-5 h-5 bg-gray-400 text-white text-xs flex items-center justify-center rounded-full">4</span>
                                <span>Interview Completed</span>
                            </li>
                        </ul>
                    </div>

                    <!-- Right Panel: Schedule Form -->
                    <div class="lg:w-2/3 bg-white p-6 border border-gray-200 shadow-sm rounded-lg m-4 flex-1">
                        <h2 class="mb-4 text-3xl font-bold leading-none tracking-tight text-gray-900 md:text-2xl dark:text-white">Schedule Interview</h2>

                        <form class="grid mb-6 gap-6 md:grid-cols-2 mt-8">
                            <!-- Date -->
                            <div class="col-span-1">
                                <label class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Interview title</label>
                                <input type="text" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" required />
                            </div>

                            <!-- Time -->
                            <div class="col-span-1">
                                <label class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Select Time</label>
                                <input type="time" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" required />
                            </div>

                            <!-- Interview Mode -->
                            <div class="col-span-2">
                                <label class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Interview Mode</label>
                                <select id="interviewMode" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
                                    {% for tz in timezones %}
                                        <option value="{{ tz }}">{{ tz }}</option>
                                    {% endfor %}
                                </select>
                            </div>

                            <!-- Meeting Link (Only for Video Call) -->
                            <div id="meetingLinkSection" class="col-span-2 hidden">
                                <label class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Meeting Link</label>
                                <input type="url" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" placeholder="Enter Zoom, Google Meet, etc. link" />
                            </div>

                            <!-- Additional Notes -->
                            <div class="col-span-2">
                                <label class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Additional Notes</label>
                                <textarea class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" rows="3" placeholder="Any extra details..."></textarea>
                            </div>

                            <!-- Action Buttons -->
                            <div class="col-span-2 flex justify-end gap-3">
                                <button type="button" class="px-4 py-2 border rounded-lg text-gray-700 hover:bg-gray-200">Cancel</button>
                                <button type="submit" class="px-4 py-2 bg-blue-600 text-white rounded-lg">Schedule Interview</button>
                            </div>
                        </form>

                        <!-- Scheduled Interview Summary -->
                        <div class="mt-6 bg-blue-50 p-4 rounded-lg">
                            <h3 class="text-lg font-semibold mb-2">Scheduled Interview</h3>
                            <p class="text-sm text-gray-700">📅 <strong>Date:</strong> <span id="scheduledDate">Not set</span></p>
                            <p class="text-sm text-gray-700">⏰ <strong>Time:</strong> <span id="scheduledTime">Not set</span></p>
                            <p class="text-sm text-gray-700">📍 <strong>Mode:</strong> <span id="scheduledMode">Not set</span></p>
                            <p class="text-sm text-gray-700">🔗 <strong>Meeting Link:</strong> <span id="scheduledLink">N/A</span></p>
                        </div>
                    </div>
                </div>



                </div>
            </div>
        </div>

    </body>
</html>